(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8c3d"],{"54Fw":function(t,n,e){},Dlkh:function(t,n,e){"use strict";var o=e("z9wV");e.n(o).a},QR9Z:function(t,n,e){"use strict";var o=e("54Fw");e.n(o).a},c11S:function(t,n,e){"use strict";var o=e("fN6i");e.n(o).a},fN6i:function(t,n,e){},ntYl:function(t,n,e){"use strict";e.r(n);var o=e("ETGp");function i(t,n,e,o){var i=void 0!==window.screenLeft?window.screenLeft:screen.left,s=void 0!==window.screenTop?window.screenTop:screen.top,r=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-e/2+i,a=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-o/2+s,c=window.open(t,n,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=yes, copyhistory=no, width="+e+", height="+o+", top="+a+", left="+r);window.focus&&c.focus()}var s={name:"SocialSignin",methods:{wechatHandleClick:function(t){this.$store.commit("SET_AUTH_TYPE",t);i("https://open.weixin.qq.com/connect/qrconnect?appid=xxxxx&redirect_uri="+encodeURIComponent("xxx/redirect?redirect="+window.location.origin+"/auth-redirect")+"&response_type=code&scope=snsapi_login#wechat_redirect",t,540,540)},tencentHandleClick:function(t){this.$store.commit("SET_AUTH_TYPE",t);i("https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=xxxxx&redirect_uri="+encodeURIComponent("xxx/redirect?redirect="+window.location.origin+"/auth-redirect"),t,540,540)}}},r=(e("QR9Z"),e("ZrdR")),a=Object(r.a)(s,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"social-signup-container"},[e("div",{staticClass:"sign-btn",on:{click:function(n){t.wechatHandleClick("wechat")}}},[e("span",{staticClass:"wx-svg-container"},[e("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),t._v(" 微信\n  ")]),t._v(" "),e("div",{staticClass:"sign-btn",on:{click:function(n){t.tencentHandleClick("tencent")}}},[e("span",{staticClass:"qq-svg-container"},[e("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),t._v(" QQ\n  ")])])},[],!1,null,"4b8fa8ee",null);a.options.__file="socialsignin.vue";var c=a.exports,l={name:"Login",components:{LangSelect:o.a,SocialSign:c},data:function(){return{loginForm:{userName:"admin",password:"123456"},loginRules:{userName:[{required:!0,trigger:"blur",validator:function(t,n,e){/\w{3,20}/.test(n)?e():e(new Error("用户名只能由3-20位字母数字下划线组成"))}}],password:[{required:!0,trigger:"blur",validator:function(t,n,e){/\w{3,20}/.test(n)?e():e(new Error("密码只能由3-20位字母数字下划线组成"))}}]},passwordType:"password",loading:!1,res2:{name:"user",age:"22"}}},methods:{showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(n){if(!n)return console.log("error submit!!"),!1;t.loading=!0,t.$http.post(t.$api.user.LOGIN,t.loginForm).then(function(n){t.loading=!1,t.$store.commit("SET_TOKEN",n.token),t.$http.post(t.$api.source.GETUSERMESSAGE).then(function(n){console.log(n),t.$store.commit("SET_CURRENT_USER",n),t.$store.dispatch("GenerateRoutes").then(function(){t.$router.push({path:"/"})})},function(){t.$store.commit("SET_NONE_USER")})},function(){t.loading=!1})})}}},d=(e("c11S"),e("Dlkh"),Object(r.a)(l,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"login-container"},[e("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,"auto-complete":"on","label-position":"left"}},[e("div",{staticClass:"title-container"},[e("h3",{staticClass:"title"},[t._v(t._s(t.$t("login.title")))]),t._v(" "),e("lang-select",{staticClass:"set-language"})],1),t._v(" "),e("el-form-item",{attrs:{prop:"userName"}},[e("span",{staticClass:"svg-container svg-container_login"},[e("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v(" "),e("el-input",{attrs:{placeholder:t.$t("login.username"),name:"userName",type:"text","auto-complete":"on"},model:{value:t.loginForm.userName,callback:function(n){t.$set(t.loginForm,"userName",n)},expression:"loginForm.userName"}})],1),t._v(" "),e("el-form-item",{attrs:{prop:"password"}},[e("span",{staticClass:"svg-container"},[e("svg-icon",{attrs:{"icon-class":"password"}})],1),t._v(" "),e("el-input",{attrs:{type:t.passwordType,placeholder:t.$t("login.password"),name:"password","auto-complete":"on"},nativeOn:{keyup:function(n){return"button"in n||!t._k(n.keyCode,"enter",13,n.key,"Enter")?t.handleLogin(n):null}},model:{value:t.loginForm.password,callback:function(n){t.$set(t.loginForm,"password",n)},expression:"loginForm.password"}}),t._v(" "),e("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[e("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),t._v(" "),e("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),t.handleLogin(n)}}},[t._v(t._s(t.$t("login.logIn")))])],1)],1)},[],!1,null,"78b769b0",null));d.options.__file="index.vue";n.default=d.exports},z9wV:function(t,n,e){}}]);